@import 'lib/normalize/normalize.css';

html, body{
  height: 100%;
  width: 100%;
}
body{
  margin: 0;
  padding: 0;
}

p{
  margin:0;
}

#scene1{
  background: -webkit-linear-gradient(top, rgba(0,0,0,0) 90%, rgba(0,0,0,0.9)) bottom, url(../images/bg_scn1.jpg) 30% top;
  height: 1200px;
  overflow: hidden;
  position: relative;

  .content{
    width: 480px;
    margin-left: 32.5%;
    padding-top: 185px;
    -webkit-shape-inside: polygon( 99px 0px, 39px 71px, 60px 112px, 43px 154px, 117px 179px, 116px 203px, 73px 230px, 79px 262px, 116px 280px, 167px 279px, 167px 307px, 133px 328px, 141px 368px, 182px 384px, 238px 367px, 242px 424px, 33px 491px, 59px 539px, 119px 567px, 164px 575px, 192px 623px, 189px 677px, 61px 736px, 35px 805px, 9px 928px, 0px 997px, 414px 997px, 448px 796px, 408px 676px, 344px 661px, 341px 591px, 375px 525px, 361px 497px, 407px 445px, 454px 405px, 480px 376px, 481px 0px, 99px 0px);
  }
  
  .overlay{
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    right: 0;
/*    -webkit-animation: flicker 8s infinite ease-in-out;*/

    background: -webkit-radial-gradient(center center, ellipse cover, rgba(0,0,0,0.1), rgba(0, 0, 0, 1) 40%);
    background-color: rgba(0,0,0,0);

    /* 
      Fake vignette with scaling because gradients can't be animated in CSS
      scale(1) for tight vignette
      scale(5+) for wide vignette
    */
    -webkit-transform: scale(8);
  }
}

body.scene1-end{
  .overlay{
    -webkit-animation: overlay-fade-to-black 1.5s 1 ease-out, overlay-darken 1s 1 ease-in;
    -webkit-animation-fill-mode: forwards;
  }
}

@-webkit-keyframes darken{
  from {
    background-color: rgba(0,0,0,0);
    
    }
  to {
    background-color: rgba(0,0,0,1);
  }
}

@-webkit-keyframes overlay-fade-to-black{
  from{
    -webkit-transform: scale(5) translateZ(0);
    background-color: rgba(0,0,0,0);
    }
  to {
    -webkit-transform: scale(1) translateZ(0);
    /* fade to black */
    background-color: rgba(0,0,0,1);
  }
}

@-webkit-keyframes flicker{
  0%{
    -webkit-transform: scale(3);
  }

  30%{
    -webkit-transform: scale(2);
  }
  
  50%{
    -webkit-transform: scale(3);
  }

  90%{
    -webkit-transform: scale(2.5);
  }
  
  100%{
    -webkit-transform: scale(3);
  }
}

#scene2{
  background: url(../images/bg_scn2.jpg) 15% top;
  background-size: cover;
  width: 100%;
  height: 3000px;
  z-index: 2;
  color: red;
  
  .content{
    width: 600px; 
    height: 700px;
    overflow: hidden;
    line-height: 2em;
    margin-left: 350px;
    background: rgba(0,255,160,0.3);
    outline: 1px solid red;
    -webkit-shape-inside: polygon(0px 0px, 485px 0px, 494.5px 85.5px, 482.25px 166.75px, 527.125px 310.375px, 504.0625px 402.6875px, 543.03125px 491.34375px, 490.515625px 601.671875px, 513.2578125px 675.8359375px, 409.62890625px 868.91796875px, -4px 870px, -0.283935546875px 722.720703125px, 54.43212890625px 659.44140625px, 137.8642578125px 657.8828125px, 180.728515625px 581.765625px, 102.45703125px 581.53125px, 77.9140625px 545.0625px, 106.828125px 468.125px, 64.65625px 406.25px, 88.3125px 342.5px, 47.625px 273px, 44.25px 220px, 10.5px 134px);
  }
  
  /* hack to force first line to respect in shape-inside*/ 
  .content p:before{
    display: block;
    clear: both;
    content: "";
  }
  
  .cat1{
    width: 472px;
    height: 534px;
    background: rgba(0,0,250,0.5) url(../images/cat_falling1.png) top left no-repeat;
    -webkit-transform-origin: left top;
/*    -webkit-transform: scale(0.7);*/
    float: left;
  }
  
  .cat2{
    width: 200px;
    height: 200px;
    float: left;
    background: rgba(0,255,255,0.5);
  }
  
  
  
/*  display: none;*/
}
