<!DOCTYPE HTML>
<html lang="en-US">
<head>
  <title>Alice in Wonderland</title>
  <meta charset="UTF-8">
  <link rel="stylesheet" type="text/css" href="css/style.css" media="all" />
</head>
<body>
  <div class="overlay"></div>
  <div id="scene1">
    <div class="content">
        <p>Alice was beginning to get very tired of sitting by her sister on the
        bank, and of having nothing to do: once or twice she had peeped into the
        book her sister was reading, but it had no pictures or conversations in
        it, 'and what is the use of a book,' thought Alice 'without pictures or
        conversation?' <br /><br />So she was considering in her own mind (as well as she could, for the
        hot day made her feel very sleepy and stupid), whether the pleasure
        of making a daisy-chain would be worth the trouble of getting up and
        picking the daisies, when suddenly a White Rabbit with pink eyes ran
        close by her.<br /><br />In another moment down went Alice after it, never once considering how
        in the world she was to get out again.<br /><br />The rabbit-hole went straight on like a tunnel for some way, and then
        dipped suddenly down, so suddenly that Alice had not a moment to think
        about stopping herself before she found herself falling down a very deep
        well.</p>
    </div>
    <script type="text/javascript">

    var p = document.querySelector('#scene1 p:first-child')
    var maxHeight = document.querySelector('#scene1').offsetHeight
    var offsetMultiplier = 1.5  // TODO make multiplier factor of scroll distance from container height. Short screens need multiplier < 1.
    
    window.onscroll = function(e){
        var newMargin = window.scrollY * offsetMultiplier;
        // var oldMargin = parseInt(p.style.marginTop, 10) | 0
        // var usedHeight = p.offsetHeight + p.offsetTop + (newMargin - oldMargin)
        
        if (window.scrollY + window.innerHeight < document.height) {
          p.style.marginTop = newMargin + "px"
          document.body.classList.remove('scene1-end')
        }
        else{
          document.body.classList.add('scene1-end')
        }
    }
    
    </script>
  </div> 
  
  <div id="scene2">
    <div class="content">
      <div class="smoke smoke1"></div>
      <div class="smoke smoke2"></div>
      <div class="smoke smoke3"></div>
      
      <article class="caterpillar">
        <p>
          'Who are YOU?' said the Caterpillar.
        </p>
        <p>
          'I--I hardly know, sir, just at present--at least I know
          who I WAS when I got up this morning, but I think I must have been
          changed several times since then.'
        </p>
        <p>
          'What do you mean by that?' said the Caterpillar sternly. 'Explain
          yourself!'
        </p>
      </article>
    </div>
  </div>
</body>
</html>